_update_stow(){
	if [ $# -eq 0 ]; then
		>&2 echo "Need at least one argument"
		return -1
	fi
	if [[ $1 == "all" ]]; then
		files=("$DOTFILES_DIR"/[^\!.]*/(:t))
	else
		files=("$@")
	fi
	for arg in ${files[@]}; do
		stow --dotfiles -d "$DOTFILES_DIR" -t "$HOME" -R "$arg"
	done
	exec $SHELL
}

alias update-stow="_update_stow"
